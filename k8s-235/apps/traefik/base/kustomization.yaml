apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
resources:
- ./resources/namespace.yaml
- ./resources/crds/traefik.io_ingressroutes.yaml
- ./resources/crds/traefik.io_ingressroutetcps.yaml
- ./resources/crds/traefik.io_ingressrouteudps.yaml
- ./resources/crds/traefik.io_middlewares.yaml
- ./resources/crds/traefik.io_middlewaretcps.yaml
- ./resources/crds/traefik.io_serverstransports.yaml
- ./resources/crds/traefik.io_tlsoptions.yaml
- ./resources/crds/traefik.io_tlsstores.yaml
- ./resources/crds/traefik.io_traefikservices.yaml
- ./resources/deployment.yaml
- ./resources/service.yaml
- ./resources/service-account.yaml
- ./resources/rbac.yaml
- ./resources/tlsoptions.yaml

configMapGenerator:
- name: traefik-config
  namespace: traefik
  files:
  - traefik.toml=configs/traefik.toml

images:
- name: quay.io/oauth2-proxy/oauth2-proxy
  newTag: v7.4.0
