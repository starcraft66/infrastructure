apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
resources:
- ../../base
- ./resources/ingress.yaml
- ./plex
- ./sonarr
- ./radarr
- ./lidarr
- ./jackett
- ./qbittorrent
- ./tautulli
- ./organizr

namespace: mediaserver

generators:
- ./generators/secrets-generator.yaml

patchesStrategicMerge:
- ./patches/pvc-plex-data.yaml

images:
- name: quay.io/munnerz/kube-plex
  newTag: latest
- name: plexinc/pms-docker
  newTag: latest
- name: ghcr.io/linuxserver/jackett
  newTag: latest
- name: ghcr.io/linuxserver/radarr
  newTag: latest
- name: ghcr.io/linuxserver/sonarr
  newTag: latest
- name: ghcr.io/linuxserver/lidarr
  newTag: latest
- name: ghcr.io/linuxserver/qbittorrent
  newTag: 14.3.3.99202103251603-7345-332b173e0ubuntu20.04.1-ls122
- name: ghcr.io/linuxserver/tautulli
  newTag: latest
- name: organizr/organizr
  newTag: latest

configMapGenerator:
- name: plex-env-vars
  literals:
  - TZ=America/Toronto
  - ADVERTISE_IP=https://plex.tdude.co/
- name: mediaserver-permissions
  literals:
  - PUID=1014
  - PGID=1015
